åœ¨é˜…è¯»è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œè¯·æ€è€ƒä¸€ä¸‹å¯¹äºä¸‹é¢çš„è¿™äº›é—®é¢˜ï¼Œä½ æœ‰ä¸€ä¸ªå‡†ç¡®æ¸…æ™°çš„è®¤çŸ¥å—ï¼Ÿ
1. ä»€ä¹ˆæ˜¯å‡½æ•°æ ˆå¸§ï¼Ÿ
2. ç¨‹åºä¸­çš„å±€éƒ¨å˜é‡ï¼Œæ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Ÿ
3. ä¸ºä»€ä¹ˆå±€éƒ¨å˜é‡ä¸åˆå§‹åŒ–ä¼šæ˜¯éšæœºå€¼ï¼Ÿ
4. å‡½æ•°ä¼ å‚ï¼Œç©¶ç«Ÿæ˜¯å¦‚ä½•ä¼ å‚çš„ï¼Ÿ
5. å‡½æ•°çš„å½¢å‚å’Œå®å‚å­˜åœ¨ä»€ä¹ˆå…³ç³»ï¼Ÿ
6. å‡½æ•°æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„ï¼Ÿ
7. å‡½æ•°è¢«è°ƒç”¨ä¹‹åæ˜¯å¦‚ä½•è¿”å›çš„ï¼Ÿ

å¦‚æœæ²¡æœ‰ï¼Œè¯·å°è¯•é˜…è¯»ã€åˆ†æã€ç†è§£æœ¬ç¯‡æ–‡ç« ã€‚
è¯»æ‡‚æœ¬ç¯‡æ–‡ç« å°†ä¼šæå‡ä½ çš„â€œè‡ªæˆ‘ä¿®å…»â€ã€‚

> `ç¨‹åºè¿è¡ŒèƒŒåçš„æœºåˆ¶å’Œç”±æ¥ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ç¨‹åºå‘˜çš„ä¸€ç§â€œè‡ªæˆ‘ä¿®å…»â€ã€‚`
> **------ ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…» â€œé“¾æ¥ã€è£…è½½ä¸åº“â€**
# æ ˆä¸æ ˆå¸§
## ä»€ä¹ˆæ˜¯æ ˆï¼Ÿ
åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œæ ˆæ˜¯ä¸€ä¸ªåŠ¨æ€å†…å­˜åŒºåŸŸã€‚
å‡½æ•°çš„ä¸­çš„å±€éƒ¨å˜é‡ï¼Œéƒ½å­˜æ”¾åœ¨å†…å­˜çš„æ ˆåŒºä¸­ã€‚
æ ˆåŒºçš„ä½¿ç”¨ï¼Œå’Œæ•°æ®ç»“æ„ä¸­çš„æ ˆä½¿ç”¨è§„åˆ™ç›¸ä¼¼ï¼š
å‹æ ˆã€å‡ºæ ˆã€å…ˆè¿›åå‡ºã€‚
æ ˆåŒºæ€»æ˜¯å…ˆä½¿ç”¨é«˜åœ°å€ï¼Œå†ä½¿ç”¨ä½åœ°å€ï¼Œå³æ ˆåŒºçš„ä½¿ç”¨æ˜¯ `ä»é«˜åœ°å€å‘ä½åœ°å€å»¶ä¼¸` çš„ã€‚
## ä»€ä¹ˆæ˜¯æ ˆå¸§ï¼Ÿ
ä»é€»è¾‘ä¸Šè®²ï¼Œæ ˆå¸§å°±æ˜¯ä¸€ä¸ªå‡½æ•°æ‰§è¡Œçš„ç¯å¢ƒã€‚
æ ˆä¼šä¿å­˜ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ‰€éœ€è¦çš„ç»´æŠ¤ä¿¡æ¯ï¼Œä¿å­˜è¿™äº›ä¿¡æ¯æ‰€ç”¨çš„ä¿¡æ¯ç©ºé—´ï¼Œå¸¸è¢«ç§°ä¸º `å‡½æ•°æ ˆå¸§`ã€‚

æ¯ä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„æ ˆå¸§ã€‚

ç»´æŠ¤å‡½æ•°æ ˆå¸§ï¼Œéœ€è¦ç”¨ `ä¸¤ä¸ªå¯„å­˜å™¨` æ¥è®°å½•å‡½æ•°æ ˆå¸§çš„å¤§å°ï¼Œä¹Ÿå¯ä»¥å« åˆ’å®šå‡½æ•°æ´»åŠ¨è®°å½•çš„èŒƒå›´ ï¼Œè¿™ä¸¤ä¸ªå¯„å­˜å™¨å­˜æ”¾çš„æ˜¯åœ°å€ï¼Œä¸¤ä¸ªåœ°å€ä¹‹é—´ï¼Œå°±æ˜¯å‡½æ•°çš„æ ˆå¸§å¤§å°ï¼š
1. å¯„å­˜å™¨ `ebp`ï¼šæ ˆåº•æŒ‡é’ˆ
æŒ‡å‘ç»´æŠ¤æ ˆå¸§çš„é«˜åœ°å€.
2. å¯„å­˜å™¨ `esp`ï¼šæ ˆé¡¶æŒ‡é’ˆ
æŒ‡å‘ç»´æŠ¤çš„æ ˆå¸§çš„ä½åœ°å€ï¼Œä¼šéšæ¯æ¬¡å‹æ ˆè‡ªåŠ¨å‘ä½åœ°å€å»¶ä¼¸.

# æ ˆå¸§æ˜¯å¦‚ä½•åˆ›å»ºçš„?
> 	ä»¥ä¸‹å‡åœ¨Windowså¹³å°ï¼ŒVS2013ç¼–è¯‘ç¯å¢ƒä¸‹æ¼”ç¤º
> ä¸åŒå¹³å°ï¼Œä¸åŒç¼–è¯‘ç¯å¢ƒä¸‹çš„æ ˆå¸§æ“ä½œå¯èƒ½ä¼šæœ‰å·®å¼‚ï¼Œä½†æ˜¯é€»è¾‘ç›¸é€šã€‚

åˆ›å»ºä¸€ä¸ªæœ€ç®€å•çš„å¯ä»¥è§‚å¯Ÿå‡½æ•°æ ˆå¸§çš„ç¨‹åº
ï¼ˆæ­¥éª¤åˆ’åˆ†è¶Šç»†ï¼Œå‡½æ•°æ ˆå¸§è§‚å¯Ÿè¶Šå®¹æ˜“ï¼‰ï¼š
```c
#include <stdio.h>

int Add(int x, int y)
{
	int z = 0;
	z = x + y;

	return z;
}

int main()
{
	int a = 10;
	int b = 20;
	int c = 0;
	c = Add(a , b);

	return 0;
}
```
åœ¨å¯¹ä»£ç è¿›è¡Œè°ƒè¯•çš„æ—¶å€™ï¼Œå¯¹å‡½æ•°æ ˆå¸§è°ƒç”¨è¿›è¡ŒæŸ¥çœ‹ï¼Œæ­¤æ—¶è°ƒç”¨ mian å‡½æ•°æ ˆå¸§:
![SF_Main](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/SF_Main.png)

å°†å…‰æ ‡ç»§ç»­å‘åèµ°ï¼Œèµ°åˆ° `21è¡Œ` ä¹‹åè·³åˆ°å¦å¤–ä¸€ä¸ªç•Œé¢ï¼š
![mainå‡½æ•°è¢«è°ƒç”¨](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/SF_main__CRTStartup_mainCRTStartup.png)
å‘ç°ï¼Œ`main` å‡½æ•°å¹¶ä¸æ˜¯ç›´æ¥è¢«è®¡ç®—æœºè°ƒç”¨çš„ï¼Œè€Œæ˜¯ç”±å¦å¤–ä¸€ä¸ªå‡½æ•°æ‰€è°ƒç”¨

å‘ä¸Šç¿»é˜…ä»£ç ï¼Œèƒ½çœ‹åˆ° main å‡½æ•°å…¶å®æ˜¯åœ¨ `__mainCRTStartup` å‡½æ•°ä¸­è¢«è°ƒç”¨
è€Œ `__mainCRTStartup` å‡½æ•°ï¼Œåˆåœ¨ `mainCRTStartup` å‡½æ•°ä¸­è¢«è°ƒç”¨
![__mainCRTStartupè¢«è°ƒç”¨](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/SF_mainCRTStartup_return.png)

æ‰€ä»¥ åœ¨è°ƒç”¨ `main` å‡½æ•°ä¹‹å‰ï¼Œå…¶å®å·²ç»è°ƒç”¨äº†ä¸¤ä¸ªå‡½æ•°ï¼Œä¹Ÿå·²ç»åˆ›å»ºäº†ä¸¤ä¸ªå‡½æ•°çš„æ ˆå¸§ã€‚ä½†æ˜¯è¿™ä¸¤ä¸ªå‡½æ•°çš„æ ˆå¸§åˆ›å»ºçš„è¿‡ç¨‹å¹¶ä¸å®¹æ˜“è¢«çœ‹åˆ°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿ main å‡½æ•°çš„æ ˆå¸§çš„åˆ›å»ºæ¥è¯¦ç»†äº†è§£æ ˆå¸§çš„åˆ›å»ºã€‚

é‡æ–°å›åˆ°ï¼Œå…‰æ ‡åˆšæŒ‡å‘ `main` å‡½æ•°çš„æ—¶å€™ï¼Œ`è½¬åˆ°åæ±‡ç¼–`ï¼š

![åæ±‡ç¼–](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/SF_Main_Stack_Frames.png)
å³è¾¹ `åæ±‡ç¼–çª—å£çš„ä»£ç ` ï¼Œå…¶å®å°±æ˜¯ `main` å‡½æ•°ä¸­ï¼Œ`ä»å‡½æ•°æ ˆå¸§åˆ›å»ºï¼Œåˆ° main å‡½æ•°ç»“æŸ` çš„æ•´ä¸ªæ“ä½œåŠé¡ºåºã€‚

ä»¥åŠ¨ç”»å½¢å¼æ¼”ç¤ºï¼š
 1. `main` å‡½æ•°è°ƒç”¨ä¹‹å‰ï¼Œ`mainCRTStartup` å’Œ `__mainCRTStartup` å‡½æ•°çš„æ ˆå¸§åˆ›å»º(æ— è¯¦ç»†å†…å®¹)ï¼š
<img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/SF_MAINSRTSTARTUP_PUSH.gif" alt="ç®€å•main å‡½æ•°æ ˆå¸§åˆ›å»º" style="zoom: 60%;" />

 2. è¿›å…¥ `main` å‡½æ•°ï¼š
> 1. `(push ebp)` å‹æ ˆï¼Œå‹å…¥å†…å®¹æ˜¯ `ebp` æŒ‡å‘çš„åœ°å€`(ä¸ºä¿å­˜å½“å‰ ebp å†…å®¹)``
> `psï¼šå‹æ ˆä¹‹åï¼Œesp(æ ˆé¡¶æŒ‡é’ˆ)è‡ªåŠ¨æŒ‡å‘æ ˆé¡¶`
> 2. `(mov  ebp,esp)` å°† `ebp` æŒ‡å‘ `esp` çš„åœ°å€( å°† `esp` èµ‹äºˆ `ebp`)

æ­¤æ—¶ï¼Œ`ebp` å’Œ `esp` çš„å®é™…å˜åŒ–ä¸ºï¼š
> æœªæ‰§è¡Œ :
> ![](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/push_esp_ebp_change.png)
> æ‰§è¡Œ `push ebp` :
> ![](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/pushA_esp_ebp_change.png)
> æ‰§è¡Œ `mov ebp,esp` :
> ![](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/mov_esp_ebp_change.png)

<img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/push_epb.gif" alt="å‹æ ˆebpï¼Œè°ƒæ•´" style="zoom: 60%;" />
3. æ­¤æ—¶ï¼Œåæ±‡ç¼–ä¸­çš„è¯­å¥å…‰æ ‡æŒ‡å‘äº† 

`sub esp,0E4h`

![next_esp_sub](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/sub_esp.png)

å³ä¸‹ä¸€å¥æ‰§è¡ŒæŒ‡ä»¤çš„å°±æ˜¯ `sub esp,0E4h`
> æ±‡ç¼–è¯­è¨€ï¼š`sub ç›¸å‡`
> `sub esp,0E4h` æŒ‡ `esp = esp - 0E4h`
> `0E4h` æ˜¯åå…­è¿›åˆ¶æ•°ï¼Œè½¬æ¢æˆåè¿›åˆ¶ä¸º 228ï¼š![0E4h](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/0E4h.png)

æ‰§è¡Œ`sub esp,0E4h` çš„å˜åŒ–ï¼š
> æœªæ‰§è¡Œï¼š
> ![](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/No_sub.png)
> æ‰§è¡Œ `sub esp,0E4h`ï¼š
> ![](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/sub_esp_change.png)

<img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/sub_esp_0E4h.gif" alt="sub esp,0E4h" style="zoom: 60%;" />

æ‰§è¡Œä¹‹åï¼Œ`esp` å’Œ `ebp` ä¹‹é—´ä¼š å­˜åœ¨ä¸€å—ç”±å…¶æ–°ç»´æŠ¤çš„ç©ºé—´
è€Œè¿™æ®µç©ºé—´å…¶å®å°±æ˜¯ä¸º `main` å‡½æ•°é¢„å¼€è¾Ÿçš„ç©ºé—´

æŸ¥çœ‹åœ°å€ï¼š
<img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/For_main_space.png" alt="For_main_space" style="zoom: 80%;" />
å³ï¼šä» `0x00AFF8A4` åˆ° `0x00AFF988` å°±æ˜¯ä¸º `main` å‡½æ•°ä¸å¼€è¾Ÿçš„ç©ºé—´
ä¹Ÿè¢«æˆä¸º `main` å‡½æ•°çš„æ ˆå¸§ã€‚

ä½†æ˜¯ï¼Œè¿™é‡Œå¹¶ä¸æ˜¯å‡½æ•°æ ˆå¸§åˆ›å»ºçš„ç»“æŸã€‚

4. ç»§ç»­æ‰§è¡Œæ±‡ç¼–æŒ‡ä»¤ï¼Œå…‰æ ‡ç»§ç»­ç§»åŠ¨ï¼š
![Push_ebx_esi_edi](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Push_ebx_esi_edi.png)

<img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Save_ebx_esi_edi.gif" alt="Save_ebx_esi_edi" style="zoom: 60%;" />

ä¿å­˜äº†å¯„å­˜å™¨`ebx` `esi` `edi`

5. æŒ‡ä»¤ç»§ç»­æ‰§è¡Œï¼š
> 1. æ‰§è¡Œ `lea edi,[ebp-0E4h]` ï¼š
> ![lea_edi](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/lea_edi.png)
> è¿™é‡Œçš„ `ebp-0E4h` åœ°å€ï¼Œç»è¿‡å¯¹æ¯”ï¼Œå°±æ˜¯ é¢„å¼€è¾Ÿçš„ `main` å‡½æ•°æ ˆå¸§çš„æ ˆé¡¶åœ°å€`(0x00AFF8A4)`
>> æ±‡ç¼–æŒ‡ä»¤ ï¼š`lea(Load effect address)`   åŠ è½½æœ‰æ•ˆåœ°å€
>> `lea edi,[ebp-0E4h]`  å³ä¸ºï¼šåŠ è½½æœ‰æ•ˆåœ°å€ `ebp-0E4h` è‡³å¯„å­˜å™¨`edi`
>
>2. æ‰§è¡Œ `mov ecx,39h` å’Œ `mov eax,0CCCCCCCCh`
>![No_mov_ecx_eax](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/No_mov_ecx_eax.png)
> ğŸ‘‡ğŸ‘‡ğŸ‘‡
>![mov_ecx_eax](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/mov_ecx_eax.png)
> å¯„å­˜å™¨ `ecx` å­˜å…¥ `åå…­è¿›åˆ¶ 39(åè¿›åˆ¶ 57)`
> å¯„å­˜å™¨ `eax` å­˜å…¥`0xCCCCCCCC`
> 
> 3. æ‰§è¡Œ `rep_stos  dword_ptr_es:[edi]`ï¼š
> ![rep_stos](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/rep_stos_change.png)
> æ‰§è¡Œä¹‹åï¼Œä» `0x00AFF988 - 4` åˆ° `0x00AFF8A4` çš„`(æ¯4å­—èŠ‚)`æ‰€æœ‰å†…å®¹éƒ½è¢«è®¾ç½®ä¸ºäº† `0xCCCCCCCC` ï¼Œå³ å¼€è¾Ÿçš„`main` æ ˆå¸§ä¸­çš„æ‰€æœ‰å†…å®¹è¢«è®¾ç½®ä¸º `0xCCCCCCCC` 
>> æ±‡ç¼–æŒ‡ä»¤ï¼š
>> ```
>> lea         edi,[ebp-0E4h]  
>> mov         ecx,39h  
>> mov         eax,0CCCCCCCCh  
>> rep stos    dword ptr es:[edi]
>> ```
>> è¿™ä¸€æ®µæ±‡ç¼–æŒ‡ä»¤ä¸­æœ€åä¸€å¥
>> `rep_stos    dword_ptr_es:[edi]`
>> `rep` ï¼š é‡å¤ä¸Šé¢æŒ‡ä»¤ï¼Œ å³ 
>> ```
>> lea         edi,[ebp-0E4h]  
>> mov         ecx,39h  
>> mov         eax,0CCCCCCCCh
>> ```
>>  å¯„å­˜å™¨ `ecx` ä¸­çš„å€¼ï¼Œå³ä¸ºé‡å¤çš„æ¬¡æ•°
>> `stos` ï¼šå°† `eax` ä¸­çš„å€¼æ‹·è´åˆ° `edi` æŒ‡å‘çš„åœ°å€
>>
>>> æŒ‡ä»¤æ‰§è¡Œæ—¶ï¼Œé»˜è®¤ `edi` ä¸­çš„åœ°å€ï¼Œæ˜¯å¢å¤§çš„(å‘é«˜åœ°å€å¢é•¿)ã€‚æ‰€ä»¥ï¼Œä¼šä»`edi [ebp-0E4h(0x00AFF8A4)]` æ¯4å­—èŠ‚çš„å¢é•¿ï¼Œå¢é•¿åˆ° `0x00AFF988` å…± 57æ¬¡(å¯„å­˜å™¨ `ecx` ä¸­å­˜å…¥çš„æ•°æ®)
>
> `main` å‡½æ•°æ ˆå¸§ä¸­æ‰€æœ‰å†…å®¹è¢« è®¾ç½®ä¸ºäº† `0xCCCCCCCC` 
> é‚£ä¹ˆ åœ¨ `main` å‡½æ•°ä¸­ å®šä¹‰å±€éƒ¨å˜é‡ è€Œä¸åˆå§‹åŒ–
> å±€éƒ¨å˜é‡å°±ä¼šè¡¨ç¤ºéšæœºå€¼ã€‚
> æ‰€ä»¥ è¾“å‡ºä¸€ä¸ªæœªåˆå§‹åŒ–çš„å±€éƒ¨å˜é‡ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°ï¼š
> ![](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/0xCCCCCCCC.png)

åˆ°æ­¤ï¼Œ`main` å‡½æ•°æ ˆå¸§çš„åˆ›å»ºå…¨éƒ¨å®Œæˆã€‚
æ¥ä¸‹æ¥å°±æ˜¯ï¼Œå±€éƒ¨å˜é‡çš„åˆ›å»ºã€è°ƒç”¨å‡½æ•°æ ˆå¸§çš„åˆ›å»ºã€å‡½æ•°ä¼ å‚ã€å‡½æ•°è¿”å›ç­‰ã€‚


# å±€éƒ¨å˜é‡æ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Ÿè°ƒç”¨å‡½æ•°ç©¶ç«Ÿæ˜¯å¦‚ä½•ä¼ å‚çš„ï¼Ÿ
ä»¥ä¸Šï¼Œè¯¦ç»†åˆ†æäº† `main` å‡½æ•°æ ˆå¸§åœ¨å†…å­˜ä¸­åˆ›å»ºçš„è¿‡ç¨‹ã€‚
åˆ›å»ºå®Œæˆä¹‹åï¼Œå°±ä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œ `main` å‡½æ•°ä¸­çš„å‡½æ•° æˆ– è¯­å¥ã€‚


æ¥ä¸‹æ¥ï¼Œå°±æ˜¯å±€éƒ¨å˜é‡åœ¨æ ˆå¸§ä¸­çš„åˆ›å»º å’Œ å‡½æ•°è¢«è°ƒç”¨æ—¶ä¼ å‚çš„å®ç°ï¼š

## å±€éƒ¨å˜é‡åœ¨æ ˆå¸§ä¸­çš„åˆ›å»º
![Local_variables_creat_front](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Local_variables_creat_front.png)
> `dword ptr` è¡¨ç¤ºåœ°å€å†…å®¹ä¸ºåŒå­—`(4å­—èŠ‚)`æ•°æ®

è§‚å¯Ÿæ±‡ç¼–ä»£ç ï¼Œå¯¹ å±€éƒ¨å˜é‡ `a`ã€ `b`ã€ `c` çš„åˆ›å»ºåŠåˆå§‹åŒ–æ˜¯ä» åœ°å€`ebp-8` å¼€å§‹çš„ã€‚
ä»£ç å‘ä¸‹æ‰§è¡Œï¼š
![Local_variables_creat](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Local_variables_creat.png)

![Local_variables_creat](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Local_variables_creat.gif)

å±€éƒ¨å˜é‡çš„åˆ›å»ºç›¸å¯¹ç®€å•ï¼Œä¸€å¼ åŠ¨å›¾å°±å¯ä»¥ç†è§£ã€‚

## å‡½æ•°è¢«è°ƒç”¨æ—¶çš„ä¼ å‚
è°ƒç”¨éœ€è¦ä½¿ç”¨å‚æ•°çš„å‡½æ•°æ—¶ï¼Œéœ€è¦ä¼ å…¥å­˜åœ¨çš„å±€éƒ¨å˜é‡ï¼Œä½œä¸ºå‡½æ•°çš„å‚æ•°ã€‚
ä½†æ˜¯ï¼Œè¢«ä¼ å…¥å‡½æ•°çš„å‚æ•°ï¼Œåœ¨å‡½æ•°ä¸­éƒ½è¢«ç§°ä¸º `å½¢å‚`ï¼Œåœ¨è¢«è°ƒç”¨å‡½æ•°ä¸­ ç›´æ¥æ”¹å˜ å¹¶ä¸èƒ½çœŸæ­£æ”¹å˜åŸæ¥çš„å˜é‡ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ

çœŸæ­£çš„åŸå› ï¼Œå°±åœ¨è¿™é‡Œï¼š

---

![](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Add_No.png)
å…ˆåˆ†ææ±‡ç¼–ä»£ç ï¼š
> ```
> mov        eax,dword ptr [ebp-14h]
> push       eax
>mov        ecx,dword ptr [ebp-8]
> push       ecx
> ```
