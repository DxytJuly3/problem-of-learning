# 2022-01-21	字符串和内存函数(1)

## 8. `strstr`

```c
char* strstr(const char* string, const char* strCharSet);
```

作用：在 字符串`string`中，查找第一个`strCharSet`字符串；若`strCharSet`指向长度为零的字符串(即，`strCharSet`为空)，则返回原字符串，没找到返回空指针，找到了返回找到的字符串的首字符地址。

模拟实现 `strstr`

```c
char* my_strstr(const char* str, const char* substr)
{
    assert(str && substr);
    if(*substr == '\0')
        return str;
    char* flag = (char*)str;	//记录本次查找的起始地址
    char* str1;
    char* str2;					//记录 查找的字符串
    
    while(*flag)
    {
        str1 = flag;			//因本次查找中 起始位置需要一直知道，所以将 flag 存入另一个指针变量
        str2 = (char*)substr;	//每次循环从 查找字符串的首字符开始查找
        while(*st1 && *str2 && (*str1 == str2))
        {/*在此循环中查找，str1 与 str2 指向的字符都不为'\0'，且 相等时，继续查找下一个字符
           str2指向的字符为'\0'时，查找成功*/
            str1++;
            str2++;
        }
        if(*str2 == '\0')
            return flag;
        
        flag++;
	}
    
    return NULL;
}
```

